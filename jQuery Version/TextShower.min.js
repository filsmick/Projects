/*!
 * TextShower v1.0.1 - jQuery version
 * © 2013 Yohaï Berreby <yohaiberreby@gmail.com>
 * See http://github.com/filsmick/TextShower/ for license and instructions
 */

function TextShower(e,t,n,r){function a(n){this.titleElement=$(n).find($(".TextShower-title"));this.textElement=$(n).find($(".TextShower-text"));this.deployed=false;var i=this;if(r){this.titleElement.text(this.titleElement.text().addStrAt(0,"+ "))}this.textElement.addClass("notransition");this.prevHeight=this.textElement.css("height");this.prevMargin=this.textElement.css("margin");this.prevPaddingTop=this.textElement.css("paddingTop");this.prevPaddingBottom=this.textElement.css("paddingBottom");this.textElement.css("height","0px");this.textElement.css("margin","0 0 0 0");this.textElement.css("padding-top","0");this.textElement.css("padding-bottom","0");this.titleElement.css("margin-bottom",this.titleElement.css("margin-bottom").substring(0,-2)/2);setTimeout(function(){i.textElement.removeClass("notransition")},0);this.durationArray=[];var s=parseFloat(e.match(/\d+\.?\d*/g)),o=parseFloat(t.match(/\d+\.?\d*/g));this.durationArray.push(s,o);$(window).bind("hashchange",function(){i.anchorNav()});this.anchorNav();$(this.titleElement).click(function(){i.changeState()})}marginTiming="ease-out";e=typeof e!=="undefined"?e:"0.8s";t=typeof t!=="undefined"?t:"0.3s";n=typeof n!=="undefined"?n:"ease";r=typeof r!=="undefined"?r:true;if($("meta[data-TextShower]").length!==0){var i=$("meta[data-TextShower]").attr("data-TextShower"),s=i.split(" ");e=typeof s[0]!=="undefined"&&s[0]!=="default"?s[0]:e;t=typeof s[1]!=="undefined"&&s[1]!=="default"?s[1]:t;n=typeof s[2]!=="undefined"&&s[2]!=="default"?s[2]:n;r=typeof s[3]!=="undefined"&&s[3]!=="default"?s[3]=="true":r}String.prototype.addStrAt=function(e,t){return this.slice(0,e)+t+this.slice(e+0)};if(transitions){var o=document.createElement("style"),u="height "+e+" "+n+", margin "+t+" "+marginTiming+", padding-top "+t+" "+marginTiming+", padding-bottom "+e+" "+n;o.type="text/css";o.innerHTML=".TextShower-title {"+"-moz-user-select: none;"+"-webkit-user-select: none;"+"-ms-user-select:none;"+"user-select:none;"+"cursor: pointer;"+"}"+".TextShower-text {"+"overflow: hidden;"+"-webkit-transition: "+u+";"+"-moz-transition: "+u+";"+"-o-transition: "+u+";"+"-ms-transition: "+u+";"+"transition: "+u+";"+"}"+".notransition {"+"-webkit-transition: none !important;"+"-moz-transition: none !important;"+"-o-transition: none !important;"+"-ms-transition: none !important;"+"transition: none !important;"+"}";document.getElementsByTagName("head")[0].appendChild(o)}/-(.)/.exec(n);n=n.replace(/-(.)/,RegExp.$1.toUpperCase());/-(.)/.exec(marginTiming);marginTiming=marginTiming.replace(/-(.)/,RegExp.$1.toUpperCase());a.prototype={openBox:function(){function s(){i.textElement.addClass("notransition");i.textElement.css("height","auto");i.prevHeight=i.textElement.height()+"px"}this.deployed=true;if(r){this.titleElement.text(this.titleElement.text().replace("+","-"))}var n=this.textElement.height()+"px";this.textElement.addClass("notransition");this.textElement.css("height","auto");this.prevHeight=this.textElement.height()+"px";this.textElement.css("height",n);this.textElement.height();this.textElement.removeClass("notransition");var i=this;if(!transitions){this.textElement.animate({height:this.prevHeight},{duration:e,easing:"swing",queue:false,complete:s});this.textElement.animate({margin:this.prevMargin},{duration:t,easing:"linear",queue:false});this.textElement.animate({paddingTop:this.prevPaddingTop},{duration:t,easing:"linear",queue:false});this.textElement.animate({paddingBottom:this.prevPaddingBottom},{duration:t,easing:"linear",queue:false})}else{this.textElement.css("height",this.prevHeight);this.textElement.css("margin",this.prevMargin);this.textElement.css("padding-top",this.prevPaddingTop);this.textElement.css("padding-bottom",this.prevPaddingBottom);this.timer=setTimeout(s,Math.max.apply(Math,this.durationArray)*1e3)}},closeBox:function(){this.deployed=false;if(r){this.titleElement.text(this.titleElement.text().replace("-","+"))}if(this.timer!==undefined){clearTimeout(this.timer)}this.prevHeight=this.textElement.height();this.textElement.css("height",this.textElement.height()+"px");var n=this;setTimeout(function(){n.textElement.removeClass("notransition");if(!transitions){n.textElement.animate({height:"0px"},{duration:e,easing:"swing",queue:false});n.textElement.animate({margin:"0 0 0 0"},{duration:t,easing:"linear",queue:false});n.textElement.animate({paddingTop:"0"},{duration:t,easing:"linear",queue:false});n.textElement.animate({paddingBottom:"0"},{duration:t,easing:"linear",queue:false})}else{n.textElement.css("height","0px");n.textElement.css("margin","0 0 0 0");n.textElement.css("padding-top","0");n.textElement.css("padding-bottom","0")}},0)},changeState:function(e){if(e===undefined){e=this.deployed}if(!e){this.openBox()}else{this.closeBox()}},anchorNav:function(){if(window.location.hash.substring(1)==this.titleElement.attr("id")&&window.location.hash.substring(1)!==""){this.textElement.addClass("notransition");this.changeState(false);this.titleElement[0].scrollIntoView(true);this.textElement.removeClass("notransition")}}};var f=$(".TextShower-box"),l=f.length;for(var c=0;c<l;c++){new a(f[c])}}var b=document.body||document.documentElement,s=b.style,p="transition";if(typeof s[p]=="string"){transitions=true}var v=["Moz","Webkit","Khtml","O","ms"],vLength=v.length,i;p=p.charAt(0).toUpperCase()+p.substr(1);for(i=0;i<vLength;i++){if(typeof s[v[i]+p]=="string"){transitions=true}}

TextShower("0.8s","0.3s","ease",true);